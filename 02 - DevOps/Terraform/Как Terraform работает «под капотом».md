Terraform основан на **декларативном подходе**. Вы описываете конечный результат – например,  «запущен 1 EC2-инстанс в указанной сети», – а не пошаговую инструкцию его создания. Затем  Terraform сам вычисляет, какие API-вызовы нужно сделать, чтобы достичь этого результата.

Алгоритм работы состоит из трёх основных этапов: **чтение состояния, планирование (plan)** и  **применение (apply)**. При создании плана Terraform выполняет следующие шаги :  
- Сначала он загружает текущее состояние ресурсов: читает локальный (или удалённый) stateфайл и проверяет, какие ресурсы уже созданы в облаке.  
- Затем Terraform **сравнивает** это текущее состояние с тем, что описано в конфигурации (новым  кодом). Он находит различия: например, новый ресурс, который нужно создать, или изменение  параметров существующего ресурса.  
- На основе отличий Terraform **формирует план** – последовательность действий (создать,  изменить, удалить ресурсы), необходимых для приведения инфраструктуры к описанному  состоянию. По желанию пользователь может просмотреть этот план ( `terraform plan` ) и  убедиться, что всё верно.  

Наконец, при выполнении `terraform apply` Terraform исполняет этот план: с учётом  зависимостей между ресурсами (Terraform автоматически строит граф зависимостей) он создаёт и  изменяет ресурсы в нужном порядке. Независимые ресурсы могут создаваться параллельно, что  ускоряет работу . Благодаря хранению state-файла и идемпотентности, повторный запуск  `apply` без изменений в конфигурации просто завершится без действий (Terraform увидит, что  текущее состояние уже совпадает с конфигом). Таким образом, Terraform гарантирует, что ваша  инфраструктура *тотчас* придёт в нужное состояние, минимизируя неожиданные изменения