При разметке диска можно выбрать между **MBR** (Master Boot Record) и **GPT** (GUID Partition Table). Они определяют, как разделы хранятся и управляются на диске.
# Основные отличия

|Характеристика|**MBR**|**GPT**|
|---|---|---|
|**Макс. размер диска**|2 ТБ|9.4 ЗБ (практически без ограничений)|
|**Макс. кол-во разделов**|4 основных (или 3 + 1 расширенный)|128 (в стандартном UEFI)|
|**Способ загрузки**|BIOS (Legacy)|UEFI|
|**Механизм восстановления**|Нет встроенной защиты|Есть резервные таблицы в конце диска|
|**Где применяется**|Старые системы, совместимость|Современные системы, большие диски|
|**Поддержка Windows**|Windows 7 и ниже (Legacy)|Windows 8+ (UEFI)|
|**Поддержка Linux**|Полная|Полная|
## Подробнее о MBR
MBR – старая схема, работает с BIOS, но имеет ограничения:
- Может управлять **только 4 основными разделами** (но можно создать **расширенный раздел**, в котором будет больше логических разделов).
- Не поддерживает диски больше **2 ТБ**.
- Таблица разделов хранится в **первых 512 байтах** диска (если повреждена — диск становится неразборчивым).

**Пример работы с MBR:**
Просмотр разметки диска:
```bash
fdisk -l /dev/sdX
```    

Создание MBR-разметки (удаляет всё на диске!):
```bash
parted /dev/sdX mklabel msdos
```
## Подробнее о GPT
GPT – более новая схема разметки, работает с UEFI и не имеет ограничений MBR:
- Поддерживает **до 128 разделов** (без дополнительных расширенных разделов).
- Работает с **дисками больше 2 ТБ**.
- Хранит **резервные копии таблицы разделов** (если повреждена, можно восстановить).

 **Пример работы с GPT:**
Просмотр GPT-разметки:
```bash
gdisk -l /dev/sdX
```
   
Создание GPT-разметки (удаляет всё!):
```bash
parted /dev/sdX mklabel gpt
```
## Когда использовать что?

|Ситуация|Выбор|
|---|---|
|Диск **меньше 2 ТБ** и нужна совместимость со старыми ОС|MBR|
|Диск **больше 2 ТБ** или нужен UEFI|GPT|
|Работа с Windows 7 (Legacy BIOS)|MBR|
|Работа с Windows 8+ (UEFI)|GPT|
|Работа с Linux (современные системы)|GPT предпочтителен|

## Конвертация MBR ↔ GPT
Если диск уже размечен, его можно конвертировать (⚠️ **без потери данных возможно только с `gptfdisk`**, но всегда делай резервную копию!):
### Удаление всей разметки и конвертация (разрушит данные!)
MBR → GPT:
```bash
parted /dev/sdX mklabel gpt
```

GPT → MBR:
```bash
parted /dev/sdX mklabel msdos
```
### Конвертация без потери данных (только если диск не загружен)
```bash
gdisk /dev/sdX r  # Recovery & transformation f  # Convert MBR to GPT w  # Write changes
```
