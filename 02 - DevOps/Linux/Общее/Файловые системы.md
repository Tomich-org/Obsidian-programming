Файловые системы (ФС) в Linux – это способ организации данных на диске. Они определяют, как файлы хранятся, читаются, управляются правами доступа и резервируются.
# Основные файловые системы Linux

|ФС|Журналирование|Размер файла|Размер тома|Поддержка снапшотов|Особенности|
|---|---|---|---|---|---|
|**ext4**|✅ Да|16 ТБ|1 ЭБ|❌ Нет|Основная ФС в Linux, надёжная и быстрая|
|**XFS**|✅ Да|8 ЭБ|8 ЭБ|✅ Да|Оптимизирована для больших файлов|
|**Btrfs**|✅ Да|16 ЭБ|16 ЭБ|✅ Да|Поддержка RAID, снапшотов, самовосстановления|
|**ZFS**|✅ Да|16 ЭБ|16 ЭБ|✅ Да|Защита данных от повреждений, встроенный RAID|
|**F2FS**|❌ Нет|16 ТБ|16 ТБ|❌ Нет|Оптимизирована для флеш-памяти (SSD, eMMC)|
|**exFAT**|❌ Нет|16 ЭБ|128 ПБ|❌ Нет|Кроссплатформенная, хороша для USB-накопителей|
|**NTFS**|✅ Да|16 ЭБ|16 ЭБ|❌ Нет|Используется в Windows, поддерживается в Linux через `ntfs-3g`|
# Разбор по ключевым особенностям

## Журналирование (повышает надёжность)
- **ФС без журналирования**: exFAT, F2FS (быстрее, но риск потери данных выше при сбоях).
- **Журналируемые ФС**: ext4, XFS, Btrfs, ZFS, NTFS (обеспечивают защиту от сбоев).
## Поддержка снапшотов (откат к прошлым состояниям)
- **Есть**: Btrfs, ZFS, XFS.
- **Нет**: ext4, NTFS, exFAT.
## Оптимизация под SSD
- **Оптимизированы**: Btrfs, ZFS, F2FS (поддержка TRIM, уменьшенный износ).
- **Обычные**: ext4, XFS (поддерживают SSD, но не оптимизированы).
## Поддержка RAID
- **Есть встроенная поддержка**: Btrfs, ZFS.
- **Используется через `mdadm` или LVM**: ext4, XFS.
## Когда какую ФС использовать?

|Сценарий|Лучшая ФС|
|---|---|
|Системный диск Linux|**ext4** (стабильная, проверенная временем)|
|Файловый сервер с большими файлами|**XFS** (быстрая работа с большими файлами)|
|Сервера и базы данных|**ZFS, Btrfs** (защита данных, снапшоты)|
|SSD-диск|**F2FS, Btrfs** (оптимизировано для флеш-памяти)|
|USB-накопители|**exFAT** (поддерживается Windows, macOS, Linux)|
|Кроссплатформенный доступ|**NTFS** (но требует `ntfs-3g` в Linux)|
## Полезные команды для работы с ФС
**Узнать, какая ФС используется:**
```bash
df -T lsblk -f
```

**Форматирование диска в нужную ФС:**
```bash
mkfs.ext4 /dev/sdX mkfs.xfs /dev/sdX mkfs.btrfs /dev/sdX
```

**Проверка ФС на ошибки:**
```bash
fsck.ext4 /dev/sdX xfs_repair /dev/sdX
```
