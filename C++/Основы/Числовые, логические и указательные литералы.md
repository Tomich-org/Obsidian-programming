---
Тема: C++
tags:
  - cpp
  - основы
  - числа
Дата: 2023-12-23
---
Литерал - это элемент программы, который непосредственно представляет значение. 
Литералы используются во многих контекстах, но наиболее часто они используются для инициализации именованных переменных и для передачи аргументов в функции:

```cpp
const int answer = 42; // integer literal 
double d = sin(108.87); // floating point literal passed to sin function 
bool b = true; // boolean literal 
MyClass* mc = nullptr; // pointer literal
```

Иногда важно указывать компилятору, как следует обрабатывать литерал или какой конкретный тип ему предоставить. Это делается путем добавления префиксов или суффиксов к литералу.

Пример: 
- суффикс `0x` сообщает компилятору интерпретировать число, которое следует ха ним как шестнадцатеричное значение: `0x35`. 
- суффикс `ULL` сообщает компилятору рассматривать значение как `unsigned long long` тип, как в `5894345ULL`.
# Целочисленные литералы
Целочисленные литералы начинаются с цифры и не имеют дробных частей или экспонент. Целочисленные литералы можно указать в десятичной, двоичной, восьмеричной или шестнадцатеричной форме. При необходимости можно указать целый литерал без знака, а также длинный тип с помощью суффикса.

Если префикс или суффикс отсутствует, компилятор даст целочисленному литеральному типа (32 бита), если значение будет соответствовать, в противном случае он даст ему тип `int long long`.

Чтобы указать десятичный целочисленный литерал, можно начинать спецификацию с любой цифры, кроме нуля:
```cpp
int i = 157;        // Decimal literal
int j = 0198;       // Not a decimal number; erroneous octal literal
int k = 0365;       // Leading zero specifies octal literal, not decimal
int m = 36'000'000  // digit separators make large values more readable
```

Чтобы указать восьмеричный целочисленный литерал, начинайте спецификацию с нуля, за которым следует ряд цифр в диапазоне от 0 до 7. Цифры 8 и 9 при указании восьмеричного литерала будут ошибками:
```cpp
int i = 0377;   // Octal literal
int j = 0397;   // Error: 9 is not an octal digit
```

Чтобы указать шестнадцатеричный целочисленный литерал, спецификация начинается с `0x`, за которой следует последовательность цифр в диапазоне `0` и `a9` (или) через `f` (или `FA0x`). Шестнадцатеричные цифры от `a` (или `A`) до `f` (или `F`) представляют собой значения в диапазоне от 10 до 15:
```cpp
int i = 0x3fff;   // Hexadecimal literal
int j = 0X3FFF;   // Equal to i
```

Чтобы указать неподписанный тип, используется `u` или `U` суффикс. Чтобы указать длинный тип, используется `l` или `L`. Для указания 64-разрядного целочисленного типа используется суффикс `LL` или `ll`:
```cpp
unsigned val_1 = 328u;                  // Unsigned value
long val_2 = 0x7FFFFFL;                 // Long value specified
                                        //  as hex literal
unsigned long val_3 = 0776745ul;        // Unsigned long value
auto val_4 = 108LL;                           // signed long long
auto val_4 = 0x8000000000000000ULL << 16;     // unsigned long long
```

Разделители цифр: можно использовать символ с одной кавычкой (апостроф) для разделения значений в больших числах, чтобы упростить чтение для людей. Разделители не влияют на компиляцию:
```cpp
long long i = 24'847'458'121;
```
# Литералы с плавающей запятой
Литералы с плавающей запятой задают значения, которые должны иметь дробную часть. Эти значения содержат десятичные знаки (`.`) и могут содержать экспоненты.

Литералы с плавающей запятой *имеют символику* (иногда называется *мантиссой*), которая задает значение числа. Они имеют *экспоненте*, который указывает величину числа. И у них есть необязательный суффикс, указывающий тип литерала. Знак указывается в виде последовательности цифр, за которым следует период, за которым следует необязательная последовательность цифр, представляющая дробную часть числа:
```cpp
18.46
38.
```

Если указан показатель степени, он задает порядок числа в виде степени 10:
```cpp
18.46e0      // 18.46
18.46e1      // 184.6
```

Экспонент может быть указан с помощью `e` или `E`, которые имеют то же значение, за которым следует необязательный знак (+ или -) и последовательность цифр. Если указан показатель степени, десятичная точка в конце целых чисел не требуется, например `18E0`.

Литералы с плавающей запятой по умолчанию для типа `double`. Используя суффиксы `f` или `F` `l` `L` (суффикс не учитывает регистр), литерал можно указать как `float` или `long double`.

Хотя `long double` и `double` имеют то же представление, они не одинаковы. Например, могут быть перегруженные функции такие как:
```cpp
void func( double );
```
и
```cpp
void func( long double );
```
# Логические литералы
Это `true` и `false`
# Двоичные литералы
Двоичный литерал можно задать с помощью префикса `0B` или `0b` и последовательности, состоящей из 1 и 0:
```cpp
auto x = 0B001101 ; // int
auto y = 0b000001 ; // int
```

>[!INFO] Лучше избегать использование литералов как "магических констант"
>Несмотря на то, что это не всегда является хорошим стилем программирования, можно использовать литералы непосредственно в выражениях и операторах

```cpp
if (num < 100)
    return "Success";
```
В предыдущем примере рекомендуется использовать именованную константу, которая передает четкое значение, например "MAXIMUM_ERROR_THRESHOLD". И если возвращаемое значение "Success" отображается конечными пользователями, возможно, лучше использовать именованную константу строки. Строковые константы можно хранить в одном расположении в файле, который можно локализовать на других языках. Использование именованных констант помогает и себе, и другим пользователям понять намерение кода.