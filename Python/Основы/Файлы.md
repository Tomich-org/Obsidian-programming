---
Тема: Python основы
tags:
  - python
  - основы
  - файлы
Дата: 2023-11-28
---
За открытие файла отвечает встроенная функция `open`
```py
f = open('text.txt', 'r')
```
У функции много параметров, они указаны в [[Встроенные функции]].
В примере указаны 3 аргумента: 
- Имя файла(путь может быть как относительным, так и абсолютным)
- Режим, в котором будет файл открываться

|Режим|Обозначение|
|---|---|
|'r'|открытие на чтение (является значением по умолчанию).|
|'w'|открытие на запись, содержимое файла удаляется, если файла не существует, создается новый.|
|'x'|открытие на запись, если файла не существует, иначе исключение.|
|'a'|открытие на дозапись, информация добавляется в конец файла.|
|'b'|открытие в двоичном режиме.|
|'t'|открытие в текстовом режиме (является значением по умолчанию).|
|'+'|открытие на чтение и запись|
>[!info] Режимы могут быть соединены, к примеру `rb` - чтение в двоичном режиме
- encoding, нужен только в текстовом режиме чтения. Этот аргумент задает кодировку.
# Чтение из файла
Есть несколько способов прочитать информацию из файла:
- Метод `read`, он читает весь файл целиком, если был вызван без аргументов и b символов, если был вызван с аргументом (целым числом n)
```py
f = open('text.txt')
f.read(1) # 'H'
f.read() # 'ello world!\nThe end.\n\n'
```
- Прочитать файл построчно при помощи [[Циклы for и while|цикла for]]
```py
f = open('text.txt')
for line in f:
	print(line)
%% 'Hello world!\n'
'\n'
'The end.\n'
'\n' %%
```
# Запись в файл
Для начала файл необходимо открыть на запись:
```py
f = open('text.txt', 'w')
```
Запись в файл производится при помощи метода `write`:
```py
for index in l:
	f.write(index + '\n')
%% 4
3
3
3
3 %%
```
Выведенные цифры - это возвращенное число записанных символов
После окончания работы с файлом его **обязательно нужно закрыть** с помощью метода `close`:
```py
f.close()
```

Существуют средства, позволяющие сохранять в файле сложные структуры:
- [[pickle]]
- [[json]]